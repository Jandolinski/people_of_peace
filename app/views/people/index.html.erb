<p id="notice"><%= notice %></p>

<div id="map"></div>
<script>
    function initMap() {
        var uluru = {lat: <%= Person.last.latitude %>, lng: <%= Person.last.longitude %>};
        var map = new google.maps.Map(document.getElementById('map'), {
            zoom: 4,
            center: uluru
        });
        <% Person.all.each_with_index do |person, i| %>
            var uluru<%= i %> = {lat: <%= person.latitude %>, lng: <%= person.longitude %>};
            var marker = new google.maps.Marker({
                position: uluru<%= i %>,
                map: map
            });
        <% end %>
    }
</script>

<h1><%= t('people_of_peace') %></h1>

<table class="table table-hover">
  <thead>
    <tr>
      <th><%= t('name') %></th>
      <th><%= t('city') %></th>
      <th><%= t('fellowship') %></th>
      <th><%= t('background') %></th>
      <th><%= t('status') %></th>
      <th><%= t('added_by') %></th>
      <th colspan="3"></th>
    </tr>
  </thead>

  <tbody>
    <% @people.each do |person| %>
      <tr>
        <td><%= person.name %></td>
        <td><%= person.city %></td>
        <td><%= person.fellowship %></td>
        <td><%= person.background %></td>
        <td><%= person.status %></td>
        <td><%= person.added_by %></td>
        <td><%= link_to 'Show', person %></td>
        <td><%= link_to t('edit'), edit_person_path(person) %></td>
        <td><%= link_to 'Destroy', person, method: :delete, data: { confirm: 'Are you sure?' } %></td>
      </tr>
    <% end %>
  </tbody>
</table>

<br>

<%= link_to t('new_person'), new_person_path %>
